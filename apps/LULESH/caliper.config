# [mpiP]
CALI_SERVICES_ENABLE=aggregate,event,mpi,mpireport,timestamp
CALI_EVENT_TRIGGER=mpi.function
CALI_EVENT_ENABLE_SNAPSHOT_INFO=false
CALI_TIMER_SNAPSHOT_DURATION=true
CALI_TIMER_INCLUSIVE_DURATION=false
CALI_AGGREGATE_KEY=mpi.function
CALI_MPI_BLACKLIST=MPI_Comm_rank,MPI_Comm_size,MPI_Initialized,MPI_Finalized,MPI_Wtime
CALI_MPIREPORT_CONFIG="SELECT mpi.function as Function,count(),min(sum#time.duration) as \"min time/rank\",max(sum#time.duration) as \"max time/rank\",avg(sum#time.duration) as \"avg time/rank\",percent_total(sum#time.duration) as \"total time %\" FORMAT table ORDER BY percent_total#sum#time.duration DESC"

# [callpath-sample-report]
CALI_SERVICES_ENABLE=aggregate:callpath:pthread:report:sampler:symbollookup
CALI_CALLPATH_SKIP_FRAMES=4
CALI_SAMPLER_FREQUENCY=50
CALI_AGGREGATE_KEY=callpath.address
CALI_REPORT_CONFIG="SELECT count() GROUP BY source.function#callpath.address FORMAT tree(source.function#callpath.address)"

# [mpi-msg-trace]
CALI_SERVICES_ENABLE=event,mpi,recorder,timestamp,trace
CALI_EVENT_TRIGGER=function,mpi.function
CALI_TIMER_SNAPSHOT_DURATION=false
CALI_TIMER_INCLUSIVE_DURATION=false
CALI_TIMER_OFFSET=true
CALI_MPI_MSG_TRACING=true
CALI_MPI_WHITELIST=MPI_Isend,MPI_Irecv,MPI_Wait,MPI_Waitall,MPI_Allreduce,MPI_Barrier
CALI_RECORDER_FILENAME=msgtrace-%mpi.rank%.cali
